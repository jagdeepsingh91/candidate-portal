!function(){angular.module("candidatePortal.application").controller("candidatePortal.modules.open-position.openPositionController",["$q","$scope","$rootScope","candidatePortal.services.apiUrlConfig","candidatePortal.services.apiMethods","candidatePortal.services.commonService","candidatePortal.services.navigationService","candidatePortal.models.positionModel",function(o,i,n,t,e,s,a,p){i.orderOptionsList=[{type:"Ascending",value:!0},{type:"Descending",value:!1}];var r=function(){var o=t.positionList;e.apiGETReq(o).then(function(o){i.positionsList=p.digestPositionApiObj(o.data.response),console.log(i.positionsList)},function(o){s.onApiResponseError(o)})};r(),i.onApplyPositionClick=function(o,i){if(!n.loggedInStatus){var p;return p="listView"==i?function(){a.goToOpenPositionsList()}:function(){a.goToOpenPositionDetails(o.positionId)},void a.goToLoginView(p)}var r=t.isApplicantCreated;e.apiGETReq(r).then(function(n){if(n.data.response)c(o);else{var t;t="listView"==i?function(){a.goToOpenPositionsList()}:function(){a.goToOpenPositionDetails(o.positionId)},a.goToApplyPosition(o.positionId,t)}},function(o){s.onApiResponseError(o)})};var c=function(o){d().then(function(i){i.applicantPositionId=o.positionId,l(i,o)},function(o){s.onApiResponseError(o)})},l=function(o,i){var n=t.createApplicantProfile;e.apiPOSTReq(n,o).then(function(o){i.applicantStatus="Applied",s.showSuccessMsg("Applied to position")},function(o){s.onApiResponseError(o)})},d=function(){var i=o.defer(),n=t.getApplicantProfile;return e.apiGETReq(n).then(function(o){i.resolve(o.data.response)},function(o){i.reject(o)}),i.promise}}])}();